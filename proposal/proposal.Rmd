---
title: "Analyzing College Fight Songs"
author: "Power Ninja Data Turtles"
date: "10/25/19"
output: github_document
---

```{r load-tidyverse-and-data, include=FALSE}
library(tidyverse)

fight_songs <- read_csv("/cloud/project/data/fight-songs.csv")
fight_songs <- fight_songs %>%
  select(-X21)
```

### Section 1: Introduction

For our research project, we will be analyzing the fight songs of various college football teams in order to discover the patterns and similar characteristics between them. To be more specific, we will be looking at the fight songs of all 67 teams located across the Power 5 sports conferences (Big 10, Big 12, ACC, Pac-12 and SEC). Our dataset, which is fittingly titled “fight-songs”, is a part of the fivethirtyeight package in R. Each observation in the set represents a distinct Power 5 college football team. For each team (observation), the dataset features 23 observations (of which we are using 19, plus one of our own) which contain a wide range of information, mostly about the school’s fight song. 
  
The variables are as follows: school (school name), conference (the school’s conference), song_name (the song’s title), writers (the song’s author(s)), year (the year the song was written), student_writer (whether or not the author was a student), official_song (if the school counts the song as their official fight song), bpm (beats per minute), sec_duration (duration of the song in seconds), fight (if the song mentions the word “fight”), number_fights (number of times “fight” is mentioned), victory_win_won (if the song mentions any of the words “victory”, “win” or “won”), rah (if the song mentions the word “rah”), nonsense (if the song includes any non-word sounds), colors (if the song mentions the school’s colors), men (if the song mentions a group of men/boys), opponents (if the song mentions any opponents), spelling (if, during the song, anything is spelled out), trope_count (total number of tropes --> fight, rah, nonsense, colors, men, opponents and spelling), and finally, rank (the historic AP rank of the school’s football team). 
  
The data was collected by looking at the lyrics of each song (as published by the school), metadata found about each song on Spotify, history about each song (as stated by the school) and information about each school’s conference, which can be easily found on the internet. We added the rank variable to the dataset in Excel, and we found the data from the Associated Press’ historic rankings of every single college football team in the country, which was released last year.
  
Through our analysis, we hope to see if any characteristics between songs (duration, number of tropes, etc) are common within the conferences and across the entire set of observations. We added the rank variable because we were interested in seeing if higher-ranked (more successful) teams had any commonalities between their respective fight songs, as well.

### Section 2: Exploratory data analysis

We are interested in learning whether the number of times that a fight song contains the word "fight" varies based on conference, as the more times "fight" is said might predict whether a conference as a whole is more or less aggressive than another conference. First, let's analyze the variable number_fights, which counts the number of times a song says "fight," for all the teams. The histogram of number_fights is below:

```{r histogram-number_fights}
ggplot(data = fight_songs, mapping = aes(x = number_fights)) + 
  geom_histogram(binwidth = 1) + 
  labs(x = "Occurrences of 'Fight' in a Song", y = "Number of Songs", title = "Number of Occurrences of 'Fight'")
```

Let's also get the summary statistics for this distribution. In particular, we will use the median as a measure of center and IQR as a measure of spread (due to the skewness of the distribution). In addition, we will find Q1, Q3, the maximum, and the minimum.

```{r number_fights_summary_stats}
fight_songs %>%
  summarise(median = median(number_fights), 
            IQR = IQR(number_fights), 
            Q1 = quantile(number_fights, 0.25), 
            Q3 = quantile(number_fights, 0.75), 
            min = min(number_fights), 
            max = max(number_fights))
```

Based on the histogram, the shape of the distribution is clearly skewed to the right, meaning that there are more songs that say "fight" only a few times than songs that say "fight" multiple times. The distribution is clearly unimodal with one distinct peak at 0. The center (median) of the distribution occurs around 2, indicating that at least 50% of the songs contain 2 or less occurrences of the word "fight." The data is fairly spread out, as indicated by an IQR of 5 and a range of 17. There are 2 outliers, which are the songs with number of fights greater than or equal to 12.5.

Next, let's analyze the distribution of the number of times a song says "fight," for each conference. The box plot of number_fights by conference is below:

```{r box_plot_fights_by_conference}
  ggplot(data = fight_songs, mapping = aes(y = number_fights,
                                           x = fct_reorder(factor(conference), 
                                                           number_fights))) +
  geom_boxplot() +
  #geom_jitter(position=position_jitter(0.2)) +
  labs(x = "Conference", y = "Occurrences of 'Fight' in a Song",
       title = "Distribution of Occurrences of 'Fight' by Conference")
```

Let's also get the summary statistics for each distribution. In particular, we will use the median as a measure of center and IQR as a measure of spread. In addition, we will find the maximum and the minimum.

```{r fights_by_conference_summary_stats}
fight_songs %>%
  group_by(factor(conference)) %>%
  summarise(median = median(number_fights), 
            iqr = IQR(number_fights), 
            min = min(number_fights), 
            max = max(number_fights)) %>%
  arrange(median)
```

Based on the boxplots, the number of times that a fight song contains the word "fight" varies based on conference. The conferences with the highest median occurences of "fight" are Big 12 and then SEC while the conferences with the lowest median occurences of "fight" are the ACC and then Big Ten.

### Section 3: Research questions

### Section 4: Data

Below, we use the glimpse() function to display a preview of the dataset `fight_songs`:

```{r glimpse-fight_songs}
glimpse(fight_songs)
```
