---
title: "Analyzing College Fight Songs"
author: "Power Ninja Data Turtles"
date: "10/25/19"
output: github_document
---

```{r load-tidyverse-and-data, include=FALSE}
library(tidyverse)

fight_songs <- read_csv("/cloud/project/data/fight-songs.csv")
fight_songs <- fight_songs %>%
  select(-X21)
```

### Section 1: Introduction

In our research project, we will be analyzing the fight songs of various college football teams to discover the patterns (similarities/differences) between them. More specifically, we will be examining the fight songs of all 65 teams located across the Power 5 sports conferences (Big 10, Big 12, ACC, Pac-12 and SEC). Our dataset, which is fittingly titled `fight-songs`, is a part of the fivethirtyeight package in R. Each observation in the set represents a distinct Power 5 college football team. For each team (observation), the dataset features 23 variables (of which we are using 19, plus one of our own, for a total of 20), which contain a wide range of information, primarily concerning the school’s fight song. 
  
The variables are as follows: `school`, `conference`, `song_name`, `writers`, `year`, `student_writer`, `official_song`, `bpm`, `sec_duration`, `fight`, `number_fights`, `victory_win_won`, `rah`, `nonsense`, `colors`, `men`, `opponents`, `spelling`, `trope_count`, and finally, `rank`. Detailed explanations of each variable are located in the codebook.
  
The data was collected by looking at the lyrics of each song (as published by the school), metadata about each fight song on Spotify, history about each song (as stated by the school), and information about each school’s conference, which is easily accessible on the Internet. We added the `rank` variable to the dataset using Microsoft Excel, and we found this information from the Associated Press’s historic rankings of every college football team in the country, which was released last year.
  
By means of our analysis, we hope to determine if any characteristics of fight songs (duration, number of tropes, etc.) are exclusive to particular college football conferences, or rather if songs have universal traits across the entire set of observations (all 65 colleges considered). We will utilize the `rank` variable to form connections between the performances of certain college football teams and their respective fight songs. For example, we may be better equipped to formulate conclusions about the similarities in the fight songs of higher-ranked (more successful) teams due to the addition of this new variable.

### Section 2: Exploratory data analysis

We are interested in learning whether the number of times that a fight song contains the word "fight" varies based on conference, as the more times "fight" is said might predict whether a conference as a whole is more or less aggressive than another conference. First, let's analyze the variable number_fights, which counts the number of times a song says "fight," for all the teams. The histogram of number_fights is below:

```{r histogram-number_fights}
ggplot(data = fight_songs, mapping = aes(x = number_fights)) + 
  geom_histogram(binwidth = 1) + 
  labs(x = "Occurrences of 'Fight' in a Song", y = "Number of Songs", title = "Number of Occurrences of 'Fight'")
```

Let's also get the summary statistics for this distribution. In particular, we will use the median as a measure of center and IQR as a measure of spread (due to the skewness of the distribution). In addition, we will find Q1, Q3, the maximum, and the minimum.

```{r number_fights_summary_stats}
fight_songs %>%
  summarise(median = median(number_fights), 
            IQR = IQR(number_fights), 
            Q1 = quantile(number_fights, 0.25), 
            Q3 = quantile(number_fights, 0.75), 
            min = min(number_fights), 
            max = max(number_fights))
```

Based on the histogram, the shape of the distribution is clearly skewed to the right, meaning that there are more songs that say "fight" only a few times than songs that say "fight" multiple times. The distribution is clearly unimodal with one distinct peak at 0. The center (median) of the distribution occurs around 2, indicating that at least 50% of the songs contain 2 or less occurrences of the word "fight." The data is fairly spread out, as indicated by an IQR of 5 and a range of 17. There are 2 outliers, which are the songs with number of fights greater than or equal to 12.5.

Next, let's analyze the distribution of the number of times a song says "fight," for each conference. The box plot of number_fights by conference is below:

```{r box_plot_fights_by_conference}
  ggplot(data = fight_songs, mapping = aes(y = number_fights,
                                           x = fct_reorder(factor(conference), 
                                                           number_fights))) +
  geom_boxplot() +
  #geom_jitter(position=position_jitter(0.2)) +
  labs(x = "Conference", y = "Occurrences of 'Fight' in a Song",
       title = "Distribution of Occurrences of 'Fight' by Conference")
```

Let's also get the summary statistics for each distribution. In particular, we will use the median as a measure of center and IQR as a measure of spread. In addition, we will find the maximum and the minimum.

```{r fights_by_conference_summary_stats}
fight_songs %>%
  group_by(factor(conference)) %>%
  summarise(median = median(number_fights), 
            iqr = IQR(number_fights), 
            min = min(number_fights), 
            max = max(number_fights)) %>%
  arrange(median)
```

Based on the boxplots, the number of times that a fight song contains the word "fight" varies based on conference. The conferences with the highest median occurences of "fight" are Big 12 and then SEC while the conferences with the lowest median occurences of "fight" are the ACC and then Big Ten.

### Section 3: Research questions

### Section 4: Data

Below, we use the glimpse() function to display a preview of the dataset `fight_songs`:

```{r glimpse-fight_songs}
glimpse(fight_songs)
```
